import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.web3j.abi.FunctionEncoder;
import org.web3j.abi.TypeReference;
import org.web3j.abi.datatypes.*;
import org.web3j.abi.datatypes.generated.Uint256;
import org.web3j.crypto.Credentials;
import org.web3j.protocol.Web3j;
import org.web3j.protocol.core.DefaultBlockParameterName;
import org.web3j.protocol.core.methods.request.EthFilter;
import org.web3j.protocol.core.methods.response.Web3ClientVersion;
import org.web3j.protocol.http.HttpService;
import org.web3j.tx.RawTransactionManager;
import org.web3j.tx.TransactionManager;

import java.io.IOException;
import java.math.BigDecimal;
import java.math.BigInteger;
import java.util.Arrays;
import java.util.Collections;

public class demo {
    public static final String nodeAdd = "https://ropsten.infura.io/v3/a2816bc61057481188c0a772cee3134e";
    // 私钥
    public static final String senderSk = "0x6c7117111a42dd5dfcff752ee0b32c3f85699192d6c18297fc23d473bf8089c9";
    String contractData = "0x60806040523480156200001157600080fd5b50604051620050993803806200509983398181016040528101906200003791906200038e565b8181620000516301ffc9a760e01b6200018660201b60201c565b81600690805190602001906200006992919062000266565b5080600790805190602001906200008292919062000266565b506200009b6380ac58cd60e01b6200018660201b60201c565b620000b3635b5e139f60e01b6200018660201b60201c565b620000cb63780e9d6360e01b6200018660201b60201c565b50506000620000df6200025e60201b60201c565b905080600a60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508073ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a350505062000515565b63ffffffff60e01b817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161415620001f2576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620001e99062000443565b60405180910390fd5b6001600080837bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b600033905090565b828054600181600116156101000203166002900490600052602060002090601f0160209004810192826200029e5760008555620002ea565b82601f10620002b957805160ff1916838001178555620002ea565b82800160010185558215620002ea579182015b82811115620002e9578251825591602001919060010190620002cc565b5b509050620002f99190620002fd565b5090565b5b8082111562000318576000816000905550600101620002fe565b5090565b6000620003336200032d8462000499565b62000465565b9050828152602081018484840111156200034c57600080fd5b62000359848285620004dd565b509392505050565b600082601f8301126200037357600080fd5b8151620003858482602086016200031c565b91505092915050565b60008060408385031215620003a257600080fd5b600083015167ffffffffffffffff811115620003bd57600080fd5b620003cb8582860162000361565b925050602083015167ffffffffffffffff811115620003e957600080fd5b620003f78582860162000361565b9150509250929050565b600062000410601c83620004cc565b91507f4552433136353a20696e76616c696420696e74657266616365206964000000006000830152602082019050919050565b600060208201905081810360008301526200045e8162000401565b9050919050565b6000604051905081810181811067ffffffffffffffff821117156200048f576200048e62000513565b5b8060405250919050565b600067ffffffffffffffff821115620004b757620004b662000513565b5b601f19601f8301169050602081019050919050565b600082825260208201905092915050565b60005b83811015620004fd578082015181840152602081019050620004e0565b838111156200050d576000848401525b50505050565bfe5b614b7480620005256000396000f3fe608060405234801561001057600080fd5b50600436106101585760003560e01c80636c0360eb116100c3578063b88d4fde1161007c578063b88d4fde146103d9578063c87b56dd146103f5578063e327276214610425578063e985e9c514610455578063f2fde38b14610485578063f54e9d77146104a157610158565b80636c0360eb1461032957806370a0823114610347578063715018a6146103775780638da5cb5b1461038157806395d89b411461039f578063a22cb465146103bd57610158565b806323b872dd1161011557806323b872dd146102455780632f745c591461026157806342842e0e146102915780634ccbad7a146102ad5780634f6ccce7146102c95780636352211e146102f957610158565b806301ffc9a71461015d57806304d9794d1461018d57806306fdde03146101bd578063081812fc146101db578063095ea7b31461020b57806318160ddd14610227575b600080fd5b610177600480360381019061017291906138cb565b6104bd565b6040516101849190614574565b60405180910390f35b6101a760048036038101906101a29190613a2f565b610524565b6040516101b49190614853565b60405180910390f35b6101c5610d1f565b6040516101d2919061458f565b60405180910390f35b6101f560048036038101906101f09190613a2f565b610dc1565b604051610202919061450d565b60405180910390f35b6102256004803603810190610220919061388f565b610e46565b005b61022f610f5e565b60405161023c9190614875565b60405180910390f35b61025f600480360381019061025a9190613789565b610f6f565b005b61027b6004803603810190610276919061388f565b610fcf565b6040516102889190614875565b60405180910390f35b6102ab60048036038101906102a69190613789565b61102a565b005b6102c760048036038101906102c2919061399c565b61104a565b005b6102e360048036038101906102de9190613a2f565b611323565b6040516102f09190614875565b60405180910390f35b610313600480360381019061030e9190613a2f565b611346565b604051610320919061450d565b60405180910390f35b61033161137d565b60405161033e919061458f565b60405180910390f35b610361600480360381019061035c9190613724565b61141f565b60405161036e9190614875565b60405180910390f35b61037f6114de565b005b61038961161b565b604051610396919061450d565b60405180910390f35b6103a7611645565b6040516103b4919061458f565b60405180910390f35b6103d760048036038101906103d29190613853565b6116e7565b005b6103f360048036038101906103ee91906137d8565b611868565b005b61040f600480360381019061040a9190613a2f565b6118ca565b60405161041c919061458f565b60405180910390f35b61043f600480360381019061043a9190613a58565b611a4d565b60405161044c9190614831565b60405180910390f35b61046f600480360381019061046a919061374d565b611bd6565b60405161047c9190614574565b60405180910390f35b61049f600480360381019061049a9190613724565b611c6a565b005b6104bb60048036038101906104b6919061391d565b611e16565b005b6000806000837bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200190815260200160002060009054906101000a900460ff169050919050565b61052c6130fe565b6000600b60008481526020019081526020016000206040518060400160405290816000820160405180610180016040529081600082018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156105f65780601f106105cb576101008083540402835291602001916105f6565b820191906000526020600020905b8154815290600101906020018083116105d957829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156106985780601f1061066d57610100808354040283529160200191610698565b820191906000526020600020905b81548152906001019060200180831161067b57829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561073a5780601f1061070f5761010080835404028352916020019161073a565b820191906000526020600020905b81548152906001019060200180831161071d57829003601f168201915b50505050508152602001600382018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156107dc5780601f106107b1576101008083540402835291602001916107dc565b820191906000526020600020905b8154815290600101906020018083116107bf57829003601f168201915b50505050508152602001600482018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561087e5780601f106108535761010080835404028352916020019161087e565b820191906000526020600020905b81548152906001019060200180831161086157829003601f168201915b50505050508152602001600582018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156109205780601f106108f557610100808354040283529160200191610920565b820191906000526020600020905b81548152906001019060200180831161090357829003601f168201915b50505050508152602001600682018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156109c25780601f10610997576101008083540402835291602001916109c2565b820191906000526020600020905b8154815290600101906020018083116109a557829003601f168201915b50505050508152602001600782018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610a645780601f10610a3957610100808354040283529160200191610a64565b820191906000526020600020905b815481529060010190602001808311610a4757829003601f168201915b50505050508152602001600882018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610b065780601f10610adb57610100808354040283529160200191610b06565b820191906000526020600020905b815481529060010190602001808311610ae957829003601f168201915b50505050508152602001600982018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610ba85780601f10610b7d57610100808354040283529160200191610ba8565b820191906000526020600020905b815481529060010190602001808311610b8b57829003601f168201915b50505050508152602001600a82018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610c4a5780601f10610c1f57610100808354040283529160200191610c4a565b820191906000526020600020905b815481529060010190602001808311610c2d57829003601f168201915b50505050508152602001600b82018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610cec5780601f10610cc157610100808354040283529160200191610cec565b820191906000526020600020905b815481529060010190602001808311610ccf57829003601f168201915b5050505050815250508152602001600c820160009054906101000a900460ff161515151581525050905080915050919050565b606060068054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610db75780601f10610d8c57610100808354040283529160200191610db7565b820191906000526020600020905b815481529060010190602001808311610d9a57829003601f168201915b5050505050905090565b6000610dcc826120ee565b610e0b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e0290614751565b60405180910390fd5b6004600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b6000610e5182611346565b90508073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610ec2576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610eb9906147d1565b60405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff16610ee161210b565b73ffffffffffffffffffffffffffffffffffffffff161480610f105750610f0f81610f0a61210b565b611bd6565b5b610f4f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f46906146d1565b60405180910390fd5b610f598383612113565b505050565b6000610f6a60026121cc565b905090565b610f80610f7a61210b565b826121e1565b610fbf576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fb6906147f1565b60405180910390fd5b610fca8383836122bf565b505050565b600061102282600160008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206124d690919063ffffffff16565b905092915050565b61104583838360405180602001604052806000815250611868565b505050565b61105261210b565b73ffffffffffffffffffffffffffffffffffffffff1661107061161b565b73ffffffffffffffffffffffffffffffffffffffff16146110c6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016110bd90614771565b60405180910390fd5b6110e160016110d3610f5e565b6124f090919063ffffffff16565b506110ec8183612545565b83600b60008481526020019081526020016000206000820151816000016000820151816000019080519060200190611125929190613120565b506020820151816001019080519060200190611142929190613120565b50604082015181600201908051906020019061115f929190613120565b50606082015181600301908051906020019061117c929190613120565b506080820151816004019080519060200190611199929190613120565b5060a08201518160050190805190602001906111b6929190613120565b5060c08201518160060190805190602001906111d3929190613120565b5060e08201518160070190805190602001906111f0929190613120565b5061010082015181600801908051906020019061120e929190613120565b5061012082015181600901908051906020019061122c929190613120565b5061014082015181600a01908051906020019061124a929190613120565b5061016082015181600b019080519060200190611268929190613120565b505050602082015181600c0160006101000a81548160ff02191690831515021790555090505060005b835181101561131c578381815181106112a657fe5b6020026020010151600c6000858152602001908152602001600020600083815260200190815260200160002060008201518160000190805190602001906112ee929190613120565b50602082015181600101908051906020019061130b929190613120565b509050508080600101915050611291565b5050505050565b60008061133a83600261256390919063ffffffff16565b50905080915050919050565b600061137682604051806060016040528060298152602001614b1660299139600261258f9092919063ffffffff16565b9050919050565b606060098054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156114155780601f106113ea57610100808354040283529160200191611415565b820191906000526020600020905b8154815290600101906020018083116113f857829003601f168201915b5050505050905090565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611490576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611487906146f1565b60405180910390fd5b6114d7600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206125ae565b9050919050565b6114e661210b565b73ffffffffffffffffffffffffffffffffffffffff1661150461161b565b73ffffffffffffffffffffffffffffffffffffffff161461155a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161155190614771565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff16600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a36000600a60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b6000600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b606060078054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156116dd5780601f106116b2576101008083540402835291602001916116dd565b820191906000526020600020905b8154815290600101906020018083116116c057829003601f168201915b5050505050905090565b6116ef61210b565b73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141561175d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161175490614671565b60405180910390fd5b806005600061176a61210b565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff1661181761210b565b73ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c318360405161185c9190614574565b60405180910390a35050565b61187961187361210b565b836121e1565b6118b8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016118af906147f1565b60405180910390fd5b6118c4848484846125c3565b50505050565b60606118d5826120ee565b611914576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161190b906147b1565b60405180910390fd5b6000600860008481526020019081526020016000208054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156119bd5780601f10611992576101008083540402835291602001916119bd565b820191906000526020600020905b8154815290600101906020018083116119a057829003601f168201915b5050505050905060006119ce61137d565b90506000815114156119e4578192505050611a48565b600082511115611a19578082604051602001611a019291906144e9565b60405160208183030381529060405292505050611a48565b80611a238561261f565b604051602001611a349291906144e9565b604051602081830303815290604052925050505b919050565b611a556131ae565b6000600c60008581526020019081526020016000209050806000848152602001908152602001600020604051806040016040529081600082018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611b225780601f10611af757610100808354040283529160200191611b22565b820191906000526020600020905b815481529060010190602001808311611b0557829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611bc45780601f10611b9957610100808354040283529160200191611bc4565b820191906000526020600020905b815481529060010190602001808311611ba757829003601f168201915b50505050508152505091505092915050565b6000600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b611c7261210b565b73ffffffffffffffffffffffffffffffffffffffff16611c9061161b565b73ffffffffffffffffffffffffffffffffffffffff1614611ce6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611cdd90614771565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415611d56576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611d4d906145f1565b60405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff16600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a380600a60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b611e1e61210b565b73ffffffffffffffffffffffffffffffffffffffff16611e3c61161b565b73ffffffffffffffffffffffffffffffffffffffff1614611e92576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611e8990614771565b60405180910390fd5b611ead6001611e9f610f5e565b6124f090919063ffffffff16565b50611eb83382612545565b82600b60008381526020019081526020016000206000820151816000016000820151816000019080519060200190611ef1929190613120565b506020820151816001019080519060200190611f0e929190613120565b506040820151816002019080519060200190611f2b929190613120565b506060820151816003019080519060200190611f48929190613120565b506080820151816004019080519060200190611f65929190613120565b5060a0820151816005019080519060200190611f82929190613120565b5060c0820151816006019080519060200190611f9f929190613120565b5060e0820151816007019080519060200190611fbc929190613120565b50610100820151816008019080519060200190611fda929190613120565b50610120820151816009019080519060200190611ff8929190613120565b5061014082015181600a019080519060200190612016929190613120565b5061016082015181600b019080519060200190612034929190613120565b505050602082015181600c0160006101000a81548160ff02191690831515021790555090505060005b82518110156120e85782818151811061207257fe5b6020026020010151600c6000848152602001908152602001600020600083815260200190815260200160002060008201518160000190805190602001906120ba929190613120565b5060208201518160010190805190602001906120d7929190613120565b50905050808060010191505061205d565b50505050565b600061210482600261276690919063ffffffff16565b9050919050565b600033905090565b816004600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff1661218683611346565b73ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b60006121da82600001612780565b9050919050565b60006121ec826120ee565b61222b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612222906146b1565b60405180910390fd5b600061223683611346565b90508073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1614806122a557508373ffffffffffffffffffffffffffffffffffffffff1661228d84610dc1565b73ffffffffffffffffffffffffffffffffffffffff16145b806122b657506122b58185611bd6565b5b91505092915050565b8273ffffffffffffffffffffffffffffffffffffffff166122df82611346565b73ffffffffffffffffffffffffffffffffffffffff1614612335576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161232c90614791565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614156123a5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161239c90614651565b60405180910390fd5b6123b0838383612791565b6123bb600082612113565b61240c81600160008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002061279690919063ffffffff16565b5061245e81600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206127b090919063ffffffff16565b50612475818360026127ca9092919063ffffffff16565b50808273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4505050565b60006124e583600001836127ff565b60001c905092915050565b60008082840190508381101561253b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161253290614631565b60405180910390fd5b8091505092915050565b61255f82826040518060200160405280600081525061286c565b5050565b60008060008061257686600001866128c7565b915091508160001c8160001c9350935050509250929050565b60006125a2846000018460001b8461294a565b60001c90509392505050565b60006125bc826000016129db565b9050919050565b6125ce8484846122bf565b6125da848484846129ec565b612619576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612610906145d1565b60405180910390fd5b50505050565b60606000821415612667576040518060400160405280600181526020017f30000000000000000000000000000000000000000000000000000000000000008152509050612761565b600082905060005b60008214612691578080600101915050600a828161268957fe5b04915061266f565b60008167ffffffffffffffff811180156126aa57600080fd5b506040519080825280601f01601f1916602001820160405280156126dd5781602001600182028036833780820191505090505b50905060006001830390508593505b6000841461275957600a84816126fe57fe5b0660300160f81b8282806001900393508151811061271857fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600a848161275157fe5b0493506126ec565b819450505050505b919050565b6000612778836000018360001b612b50565b905092915050565b600081600001805490509050919050565b505050565b60006127a8836000018360001b612b73565b905092915050565b60006127c2836000018360001b612c5b565b905092915050565b60006127f6846000018460001b8473ffffffffffffffffffffffffffffffffffffffff1660001b612ccb565b90509392505050565b60008183600001805490501161284a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612841906145b1565b60405180910390fd5b82600001828154811061285957fe5b9060005260206000200154905092915050565b6128768383612da7565b61288360008484846129ec565b6128c2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016128b9906145d1565b60405180910390fd5b505050565b60008082846000018054905011612913576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161290a90614711565b60405180910390fd5b600084600001848154811061292457fe5b906000526020600020906002020190508060000154816001015492509250509250929050565b600080846001016000858152602001908152602001600020549050600081141583906129ac576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016129a3919061458f565b60405180910390fd5b508460000160018203815481106129bf57fe5b9060005260206000209060020201600101549150509392505050565b600081600001805490509050919050565b6000612a0d8473ffffffffffffffffffffffffffffffffffffffff16612f35565b612a1a5760019050612b48565b6000612ae163150b7a0260e01b612a2f61210b565b888787604051602401612a459493929190614528565b604051602081830303815290604052907bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050604051806060016040528060328152602001614ae4603291398773ffffffffffffffffffffffffffffffffffffffff16612f489092919063ffffffff16565b9050600081806020019051810190612af991906138f4565b905063150b7a0260e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614925050505b949350505050565b600080836001016000848152602001908152602001600020541415905092915050565b60008083600101600084815260200190815260200160002054905060008114612c4f5760006001820390506000600186600001805490500390506000866000018281548110612bbe57fe5b9060005260206000200154905080876000018481548110612bdb57fe5b9060005260206000200181905550600183018760010160008381526020019081526020016000208190555086600001805480612c1357fe5b60019003818190600052602060002001600090559055866001016000878152602001908152602001600020600090556001945050505050612c55565b60009150505b92915050565b6000612c678383612f60565b612cc0578260000182908060018154018082558091505060019003906000526020600020016000909190919091505582600001805490508360010160008481526020019081526020016000208190555060019050612cc5565b600090505b92915050565b6000808460010160008581526020019081526020016000205490506000811415612d7257846000016040518060400160405280868152602001858152509080600181540180825580915050600190039060005260206000209060020201600090919091909150600082015181600001556020820151816001015550508460000180549050856001016000868152602001908152602001600020819055506001915050612da0565b82856000016001830381548110612d8557fe5b90600052602060002090600202016001018190555060009150505b9392505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415612e17576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612e0e90614731565b60405180910390fd5b612e20816120ee565b15612e60576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612e5790614611565b60405180910390fd5b612e6c60008383612791565b612ebd81600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206127b090919063ffffffff16565b50612ed4818360026127ca9092919063ffffffff16565b50808273ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a45050565b600080823b905060008111915050919050565b6060612f578484600085612f83565b90509392505050565b600080836001016000848152602001908152602001600020541415905092915050565b606082471015612fc8576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612fbf90614691565b60405180910390fd5b612fd185612f35565b613010576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161300790614811565b60405180910390fd5b6000808673ffffffffffffffffffffffffffffffffffffffff16858760405161303991906144d2565b60006040518083038185875af1925050503d8060008114613076576040519150601f19603f3d011682016040523d82523d6000602084013e61307b565b606091505b509150915061308b828286613097565b92505050949350505050565b606083156130a7578290506130f7565b6000835111156130ba5782518084602001fd5b816040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016130ee919061458f565b60405180910390fd5b9392505050565b60405180604001604052806131116131c8565b81526020016000151581525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282613156576000855561319d565b82601f1061316f57805160ff191683800117855561319d565b8280016001018555821561319d579182015b8281111561319c578251825591602001919060010190613181565b5b5090506131aa9190613229565b5090565b604051806040016040528060608152602001606081525090565b6040518061018001604052806060815260200160608152602001606081526020016060815260200160608152602001606081526020016060815260200160608152602001606081526020016060815260200160608152602001606081525090565b5b8082111561324257600081600090555060010161322a565b5090565b6000613259613254846148c1565b614890565b9050808382526020820190508260005b85811015613299578135850161327f888261362f565b845260208401935060208301925050600181019050613269565b5050509392505050565b60006132b66132b1846148ed565b614890565b9050828152602081018484840111156132ce57600080fd5b6132d9848285614a32565b509392505050565b60006132f46132ef8461491d565b614890565b90508281526020810184848401111561330c57600080fd5b613317848285614a32565b509392505050565b60008135905061332e81614a87565b92915050565b600082601f83011261334557600080fd5b8135613355848260208601613246565b91505092915050565b60008135905061336d81614a9e565b92915050565b60008135905061338281614ab5565b92915050565b60008151905061339781614ab5565b92915050565b600082601f8301126133ae57600080fd5b81356133be8482602086016132a3565b91505092915050565b600082601f8301126133d857600080fd5b81356133e88482602086016132e1565b91505092915050565b6000610180828403121561340457600080fd5b61340f610180614890565b9050600082013567ffffffffffffffff81111561342b57600080fd5b613437848285016133c7565b600083015250602082013567ffffffffffffffff81111561345757600080fd5b613463848285016133c7565b602083015250604082013567ffffffffffffffff81111561348357600080fd5b61348f848285016133c7565b604083015250606082013567ffffffffffffffff8111156134af57600080fd5b6134bb848285016133c7565b606083015250608082013567ffffffffffffffff8111156134db57600080fd5b6134e7848285016133c7565b60808301525060a082013567ffffffffffffffff81111561350757600080fd5b613513848285016133c7565b60a08301525060c082013567ffffffffffffffff81111561353357600080fd5b61353f848285016133c7565b60c08301525060e082013567ffffffffffffffff81111561355f57600080fd5b61356b848285016133c7565b60e08301525061010082013567ffffffffffffffff81111561358c57600080fd5b613598848285016133c7565b6101008301525061012082013567ffffffffffffffff8111156135ba57600080fd5b6135c6848285016133c7565b6101208301525061014082013567ffffffffffffffff8111156135e857600080fd5b6135f4848285016133c7565b6101408301525061016082013567ffffffffffffffff81111561361657600080fd5b613622848285016133c7565b6101608301525092915050565b60006040828403121561364157600080fd5b61364b6040614890565b9050600082013567ffffffffffffffff81111561366757600080fd5b613673848285016133c7565b600083015250602082013567ffffffffffffffff81111561369357600080fd5b61369f848285016133c7565b60208301525092915050565b6000604082840312156136bd57600080fd5b6136c76040614890565b9050600082013567ffffffffffffffff8111156136e357600080fd5b6136ef848285016133f1565b60008301525060206137038482850161335e565b60208301525092915050565b60008135905061371e81614acc565b92915050565b60006020828403121561373657600080fd5b60006137448482850161331f565b91505092915050565b6000806040838503121561376057600080fd5b600061376e8582860161331f565b925050602061377f8582860161331f565b9150509250929050565b60008060006060848603121561379e57600080fd5b60006137ac8682870161331f565b93505060206137bd8682870161331f565b92505060406137ce8682870161370f565b9150509250925092565b600080600080608085870312156137ee57600080fd5b60006137fc8782880161331f565b945050602061380d8782880161331f565b935050604061381e8782880161370f565b925050606085013567ffffffffffffffff81111561383b57600080fd5b6138478782880161339d565b91505092959194509250565b6000806040838503121561386657600080fd5b60006138748582860161331f565b92505060206138858582860161335e565b9150509250929050565b600080604083850312156138a257600080fd5b60006138b08582860161331f565b92505060206138c18582860161370f565b9150509250929050565b6000602082840312156138dd57600080fd5b60006138eb84828501613373565b91505092915050565b60006020828403121561390657600080fd5b600061391484828501613388565b91505092915050565b60008060006060848603121561393257600080fd5b600084013567ffffffffffffffff81111561394c57600080fd5b613958868287016136ab565b935050602084013567ffffffffffffffff81111561397557600080fd5b61398186828701613334565b92505060406139928682870161370f565b9150509250925092565b600080600080608085870312156139b257600080fd5b600085013567ffffffffffffffff8111156139cc57600080fd5b6139d8878288016136ab565b945050602085013567ffffffffffffffff8111156139f557600080fd5b613a0187828801613334565b9350506040613a128782880161370f565b9250506060613a238782880161331f565b91505092959194509250565b600060208284031215613a4157600080fd5b6000613a4f8482850161370f565b91505092915050565b60008060408385031215613a6b57600080fd5b6000613a798582860161370f565b9250506020613a8a8582860161370f565b9150509250929050565b613a9d816149be565b82525050565b613aac816149ac565b82525050565b613abb816149d0565b82525050565b613aca816149d0565b82525050565b6000613adb8261494d565b613ae58185614963565b9350613af5818560208601614a41565b613afe81614a76565b840191505092915050565b6000613b148261494d565b613b1e8185614974565b9350613b2e818560208601614a41565b80840191505092915050565b6000613b4582614958565b613b4f818561497f565b9350613b5f818560208601614a41565b613b6881614a76565b840191505092915050565b6000613b7e82614958565b613b888185614990565b9350613b98818560208601614a41565b613ba181614a76565b840191505092915050565b6000613bb782614958565b613bc181856149a1565b9350613bd1818560208601614a41565b80840191505092915050565b6000613bea602283614990565b91507f456e756d657261626c655365743a20696e646578206f7574206f6620626f756e60008301527f64730000000000000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000613c50603283614990565b91507f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560008301527f63656976657220696d706c656d656e74657200000000000000000000000000006020830152604082019050919050565b6000613cb6602683614990565b91507f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008301527f64647265737300000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000613d1c601c83614990565b91507f4552433732313a20746f6b656e20616c7265616479206d696e746564000000006000830152602082019050919050565b6000613d5c601b83614990565b91507f536166654d6174683a206164646974696f6e206f766572666c6f7700000000006000830152602082019050919050565b6000613d9c602483614990565b91507f4552433732313a207472616e7366657220746f20746865207a65726f2061646460008301527f72657373000000000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000613e02601983614990565b91507f4552433732313a20617070726f766520746f2063616c6c6572000000000000006000830152602082019050919050565b6000613e42602683614990565b91507f416464726573733a20696e73756666696369656e742062616c616e636520666f60008301527f722063616c6c00000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000613ea8602c83614990565b91507f4552433732313a206f70657261746f7220717565727920666f72206e6f6e657860008301527f697374656e7420746f6b656e00000000000000000000000000000000000000006020830152604082019050919050565b6000613f0e603883614990565b91507f4552433732313a20617070726f76652063616c6c6572206973206e6f74206f7760008301527f6e6572206e6f7220617070726f76656420666f7220616c6c00000000000000006020830152604082019050919050565b6000613f74602a83614990565b91507f4552433732313a2062616c616e636520717565727920666f7220746865207a6560008301527f726f2061646472657373000000000000000000000000000000000000000000006020830152604082019050919050565b6000613fda602283614990565b91507f456e756d657261626c654d61703a20696e646578206f7574206f6620626f756e60008301527f64730000000000000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000614040602083614990565b91507f4552433732313a206d696e7420746f20746865207a65726f20616464726573736000830152602082019050919050565b6000614080602c83614990565b91507f4552433732313a20617070726f76656420717565727920666f72206e6f6e657860008301527f697374656e7420746f6b656e00000000000000000000000000000000000000006020830152604082019050919050565b60006140e6602083614990565b91507f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726000830152602082019050919050565b6000614126602983614990565b91507f4552433732313a207472616e73666572206f6620746f6b656e2074686174206960008301527f73206e6f74206f776e00000000000000000000000000000000000000000000006020830152604082019050919050565b600061418c602f83614990565b91507f4552433732314d657461646174613a2055524920717565727920666f72206e6f60008301527f6e6578697374656e7420746f6b656e00000000000000000000000000000000006020830152604082019050919050565b60006141f2602183614990565b91507f4552433732313a20617070726f76616c20746f2063757272656e74206f776e6560008301527f72000000000000000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000614258603183614990565b91507f4552433732313a207472616e736665722063616c6c6572206973206e6f74206f60008301527f776e6572206e6f7220617070726f7665640000000000000000000000000000006020830152604082019050919050565b60006142be601d83614990565b91507f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006000830152602082019050919050565b600061018083016000830151848203600086015261430f8282613b3a565b915050602083015184820360208601526143298282613b3a565b915050604083015184820360408601526143438282613b3a565b9150506060830151848203606086015261435d8282613b3a565b915050608083015184820360808601526143778282613b3a565b91505060a083015184820360a08601526143918282613b3a565b91505060c083015184820360c08601526143ab8282613b3a565b91505060e083015184820360e08601526143c58282613b3a565b9150506101008301518482036101008601526143e18282613b3a565b9150506101208301518482036101208601526143fd8282613b3a565b9150506101408301518482036101408601526144198282613b3a565b9150506101608301518482036101608601526144358282613b3a565b9150508091505092915050565b6000604083016000830151848203600086015261445f8282613b3a565b915050602083015184820360208601526144798282613b3a565b9150508091505092915050565b600060408301600083015184820360008601526144a382826142f1565b91505060208301516144b86020860182613ab2565b508091505092915050565b6144cc81614a28565b82525050565b60006144de8284613b09565b915081905092915050565b60006144f58285613bac565b91506145018284613bac565b91508190509392505050565b60006020820190506145226000830184613aa3565b92915050565b600060808201905061453d6000830187613a94565b61454a6020830186613aa3565b61455760408301856144c3565b81810360608301526145698184613ad0565b905095945050505050565b60006020820190506145896000830184613ac1565b92915050565b600060208201905081810360008301526145a98184613b73565b905092915050565b600060208201905081810360008301526145ca81613bdd565b9050919050565b600060208201905081810360008301526145ea81613c43565b9050919050565b6000602082019050818103600083015261460a81613ca9565b9050919050565b6000602082019050818103600083015261462a81613d0f565b9050919050565b6000602082019050818103600083015261464a81613d4f565b9050919050565b6000602082019050818103600083015261466a81613d8f565b9050919050565b6000602082019050818103600083015261468a81613df5565b9050919050565b600060208201905081810360008301526146aa81613e35565b9050919050565b600060208201905081810360008301526146ca81613e9b565b9050919050565b600060208201905081810360008301526146ea81613f01565b9050919050565b6000602082019050818103600083015261470a81613f67565b9050919050565b6000602082019050818103600083015261472a81613fcd565b9050919050565b6000602082019050818103600083015261474a81614033565b9050919050565b6000602082019050818103600083015261476a81614073565b9050919050565b6000602082019050818103600083015261478a816140d9565b9050919050565b600060208201905081810360008301526147aa81614119565b9050919050565b600060208201905081810360008301526147ca8161417f565b9050919050565b600060208201905081810360008301526147ea816141e5565b9050919050565b6000602082019050818103600083015261480a8161424b565b9050919050565b6000602082019050818103600083015261482a816142b1565b9050919050565b6000602082019050818103600083015261484b8184614442565b905092915050565b6000602082019050818103600083015261486d8184614486565b905092915050565b600060208201905061488a60008301846144c3565b92915050565b6000604051905081810181811067ffffffffffffffff821117156148b7576148b6614a74565b5b8060405250919050565b600067ffffffffffffffff8211156148dc576148db614a74565b5b602082029050602081019050919050565b600067ffffffffffffffff82111561490857614907614a74565b5b601f19601f8301169050602081019050919050565b600067ffffffffffffffff82111561493857614937614a74565b5b601f19601f8301169050602081019050919050565b600081519050919050565b600081519050919050565b600082825260208201905092915050565b600081905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b600081905092915050565b60006149b782614a08565b9050919050565b60006149c982614a08565b9050919050565b60008115159050919050565b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b82818337600083830152505050565b60005b83811015614a5f578082015181840152602081019050614a44565b83811115614a6e576000848401525b50505050565bfe5b6000601f19601f8301169050919050565b614a90816149ac565b8114614a9b57600080fd5b50565b614aa7816149d0565b8114614ab257600080fd5b50565b614abe816149dc565b8114614ac957600080fd5b50565b614ad581614a28565b8114614ae057600080fd5b5056fe4552433732313a207472616e7366657220746f206e6f6e20455243373231526563656976657220696d706c656d656e7465724552433732313a206f776e657220717565727920666f72206e6f6e6578697374656e7420746f6b656ea26469706673582212208ce9974534d9cc2bb50873328b0bcd5d183cdf86c5cb8a9994ade5cc55a83f4e64736f6c63430007060033";

    Web3j web3j = Web3j.build(new HttpService(nodeAdd));

    Credentials credentials;
    private static final Logger logger = LoggerFactory.getLogger(demo.class);

    public void loadCredentials(String sk) throws Exception {
        credentials = Credentials.create(sk);
    }

    public void getWebVer() {
        Web3ClientVersion web3ClientVersion = null;
        try {
            web3ClientVersion = web3j.web3ClientVersion().send();
        } catch (IOException e) {
            e.printStackTrace();
        }
        System.out.println(web3ClientVersion.getWeb3ClientVersion());
    }

    public void getChainId() {

    }
    public void sendTx(String txData) {

        try {
            loadCredentials(senderSk);
        } catch (Exception e) {
            logger.error("load credentails error: ", e);
            e.printStackTrace();
        }

        TransactionManager txManager = new RawTransactionManager(web3j, credentials);

        // Send transaction
        double gwei = Math.pow(10, 9);
        BigInteger gasPrice = BigDecimal.valueOf(gwei*2.5).toBigInteger();
        BigInteger gasLimit = new BigInteger("684321");
        try {
            long chainId = 3;
            String txHash = txManager.sendEIP1559Transaction(
                    chainId,
                    gasPrice,
                    gasPrice,
                    gasLimit,
                    "0x2f80F28102f42368B56Bbd52e1EC6452EBf35069",
                    txData,
                    BigInteger.ZERO).getTransactionHash();
            System.out.println(txHash);
            // optional：查下收据
        } catch (IOException e) {
            logger.error("send tx error", e);
            e.printStackTrace();
        }


    }

    public void getNonce() {
        // 依托节点查询最新nonce，如果交易丢失或者账号在多个节点上发交易，会影响结果
        // EthGetTransactionCount ethGetTransactionCount = (EthGetTransactionCount)this.web3j.ethGetTransactionCount(this.credentials.getAddress(), DefaultBlockParameterName.PENDING).send();
    }

    public void deploy() {
        double gwei = Math.pow(10, 9);
        BigInteger gasPrice = BigDecimal.valueOf(gwei*2.5).toBigInteger();
        BigInteger gasLimit = new BigInteger("4588581");
        BigInteger value = BigInteger.valueOf(0);

        try {
            loadCredentials(senderSk);
        } catch (Exception e) {
            logger.error("load credentails error: ", e);
            e.printStackTrace();
        }

        TransactionManager txManager = new RawTransactionManager(web3j, credentials);
        try {
            // 如果合约有带参数的构造函数，还需要在末尾加上abi 编码后的参数
            // 可借助工具生成 https://abi.hashex.org/，也可自己写
            String abiEncodedConstructorArgs="00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000541424344450000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005464748494a000000000000000000000000000000000000000000000000000000";
            contractData = contractData + abiEncodedConstructorArgs;
            // 此方法自动管理了nonce，如果用别的api，需自行管理nonce
            String txHash = txManager.sendTransaction(gasPrice, gasLimit, null, contractData, value).getTransactionHash();
            System.out.println("successfully send tx: "+txHash);
            // optional：查下收据（建议通过单独的监控服务查询收据）
        } catch (IOException e) {
            logger.error("send tx error", e);
            e.printStackTrace();
        }
    }

    public void mintArtWorkToken() {
//        [["zzz","111","ZHH","lately","asdasd","morden","122","12","33","11","12","11"], true ]
//        [["https://sad", "adasd"],["https://sad", "adasd"]]
//        12

        //[["zzz","111","ZHH","lately","asdasd","morden",
        // "122","12","33","11","12","11"],true]
        DynamicStruct basicInfoArg = new DynamicStruct(
                new Utf8String("zzz"),
                new Utf8String("111"),
                new Utf8String("ZHH"),
                new Utf8String("lately"),
                new Utf8String("asdasd"),
                new Utf8String("morden"),

                new Utf8String("122"),
                new Utf8String("12"),
                new Utf8String("33"),
                new Utf8String("11"),
                new Utf8String("12"),
                new Utf8String("11")
        );
        DynamicStruct firstArg = new DynamicStruct(basicInfoArg, new Bool(true));

        //[["https://sad","adasd"],["https://sad","adasd"]]
        DynamicStruct image1 = new DynamicStruct(
                new Utf8String("https://sad"),
                new Utf8String("adasd")
        );
        DynamicStruct image2 = new DynamicStruct(
                new Utf8String("https://sad"),
                new Utf8String("adasd")
        );
        DynamicArray secondArg =  new DynamicArray<DynamicStruct>(DynamicStruct.class, Arrays.asList(image1, image2));

        try {
            loadCredentials(senderSk);
        } catch (Exception e) {
            logger.error("load credentails error: ", e);
            e.printStackTrace();
        }

        Function function = new Function(
                "mintArtWorksToken",  // 合约方法名
                Arrays.<Type>asList(firstArg,
                        secondArg,
                        new Uint256(120)),
                Collections.<TypeReference<?>>emptyList());
        String txData = FunctionEncoder.encode(function);
        System.out.println(txData);
        sendTx(txData);
    }


    public void mineArtWorkToken2Owner() {
        DynamicStruct basicInfoArg = new DynamicStruct(
                new Utf8String("zzz"),
                new Utf8String("111"),
                new Utf8String("ZHH"),
                new Utf8String("lately"),
                new Utf8String("asdasd"),
                new Utf8String("morden"),

                new Utf8String("122"),
                new Utf8String("12"),
                new Utf8String("33"),
                new Utf8String("11"),
                new Utf8String("12"),
                new Utf8String("11")
        );
        DynamicStruct firstArg = new DynamicStruct(basicInfoArg, new Bool(true));

        //[["https://sad","adasd"],["https://sad","adasd"]]
        DynamicStruct image1 = new DynamicStruct(
                new Utf8String("https://sad"),
                new Utf8String("adasd")
        );
        DynamicStruct image2 = new DynamicStruct(
                new Utf8String("https://sad"),
                new Utf8String("adasd")
        );
        DynamicArray secondArg =  new DynamicArray<DynamicStruct>(DynamicStruct.class, Arrays.asList(image1, image2));

        try {
            loadCredentials(senderSk);
        } catch (Exception e) {
            logger.error("load credentails error: ", e);
            e.printStackTrace();
        }

        Function function = new Function(
                "mintArtWorksToken2Owner",  // 合约方法名
                Arrays.<Type>asList(firstArg,
                        secondArg,
                        new Uint256(121),
                        new Address(160, "0xed774722ec7fbee84117d7da7856a1bc8a60b813")),
                Collections.<TypeReference<?>>emptyList());
        String txData = FunctionEncoder.encode(function);
        System.out.println(txData);
        sendTx(txData);
    }

    public void filterLog() {
        String topic = "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef";
        EthFilter filter = new EthFilter(DefaultBlockParameterName.EARLIEST,
                DefaultBlockParameterName.LATEST, "0x2f80F28102f42368B56Bbd52e1EC6452EBf35069")
                .addSingleTopic(topic);

        web3j.ethLogFlowable(filter).subscribe(log -> {
            System.out.println(log);
            System.out.println(log.getTopics());
        });


    }

    public static void main(String[] args) {
        demo dc = new demo();
         dc.getWebVer();
        // dc.deploy();
//         dc.mintArtWorkToken();
//         dc.mineArtWorkToken2Owner();
        dc.filterLog();
    }


}
